# HTTP
## cookie
### 背景
最开始的HTTP是无状态的，无法识别客户端，为了提供个性化的服务：[eg:个性化问候、推荐、信息存储、会话记录]，服务端需要对用户进行标识，cookie 便是其中一种手段。

#### 通用的识别用户手段：

1. HTTP首部
2. 用户IP
3. 登录
4. 胖URL(用户信息存在URL中)
5. cookie

##### HTTP首部：

|首部名称|首部类型|描述|使用|
|:---:|:---:|:---:|:---:|
|From|请求|用户的E-mail地址|用户并不希望`E-mail`被滥用，所以很少使用|
|User-Agent|请求|用户的`浏览器`软件|并没有明确的用户信息，识别用户的能力较弱|
|Referer|请求|用户做链接跳转的来源页|可以说明用户的`浏览行为`，分析用户的兴趣|
|Authorization|请求|`用户名和密码`|详见【用户登录】|
|Client-IP|扩展(请求)|客户端`IP`|详见【客户端IP】|
|X-forwarded-For|扩展(请求)|客户端`IP`|详见【客户端IP】|
|Cookie|扩展(请求)|`服务器产生的ID`标签|下文详细介绍|

##### 客户端IP

IP通常不会变更，但是以下场景并不能根据IP确定用户,

1. 多用户共享机器
2. 服务商提供了动态IP分配服务
3. 为了提高安全性，使用防火墙做网络地址转发，实际IP被转发为共享IP的某个端口
4. 使用代理，（有些代理可以通过`Client-IP`和`X-forwarded-For`）保存原始IP
